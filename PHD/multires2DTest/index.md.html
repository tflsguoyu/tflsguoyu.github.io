<meta charset="utf-8" emacsmode="-*- markdown -*-">

	**Multires 2D Test**
	*Guo Yu*

**Problem:** When rendering a down-sampled high-resolution volumetric data, the appearance looks different from original high-res data. It will lose intrinsic shadowing structure and brighten the appearance.

**TO DO:** Here we are using scattering albedo to control the brightness of appearance. Trying to find the relationship between down-sample parameters (e.g down-sample scales, std of $\sigma_T$, frequency domain of $\sigma_T$) and albedo values ($\alpha$). 

Now we just consider a 2D slice from a 3D volumetric data.

2017.01.23
===
![Homo](results0123/homo.png width=\pagewidth) ![Rand](results0123/rand.png width=\pagewidth) 
![Wool](results0123/wool.png width=\pagewidth) ![Silk](results0123/silk.png width=\pagewidth) 



2017.01.18 (small receptor)
===

Rand (10)
---
![Next Event](results0118/smallReceptor/rand_next.png width=\pagewidth) ![](results0118/smallReceptor/rand_nextno.png width=\pagewidth) 

Rand (1)
---
![Next Event](results0118/smallReceptor1/rand_next.png width=\pagewidth) ![](results0118/smallReceptor1/rand_nextno.png width=\pagewidth) 


2017.01.18 (Next Event)
===

Rand
---
![Next Event](results0118/rand2.png width=\pagewidth) ![](results0103/rand2.png width=\pagewidth) 

Wool
---
![Next Event](results0118/wool2.png width=\pagewidth) ![](results0103/wool2.png width=\pagewidth) 

Silk
---
![Next Event](results0118/silk2.png width=\pagewidth) ![](results0103/silk2.png width=\pagewidth) 



2017.01.12
===
![](results0112/woodno_nextno.png width=\pagewidth) ![Woodcock](results0112/woodyes_nextno.png width=\pagewidth) ![NextEvent](results0112/woodno_nextyes.png width=\pagewidth) ![WoodCock&nextEvent](results0112/woodyes_nextyes.png width=\pagewidth)

2017.01.08
===
![](results0108/pre.png width=\pagewidth) ![](results0108/test.png width=\pagewidth) 


2017.01.03
===

Rand
---
![](results0103/rand1.png width=\pagewidth)
![](results0103/rand2.png width=\pagewidth) ![](results0103/rand3.png width=\pagewidth) 


Wool
---
![](results0103/wool1.png width=\pagewidth)
![](results0103/wool2.png width=\pagewidth) ![](results0103/wool3.png width=\pagewidth)


Silk
---
![](results0103/silk1.png width=\pagewidth)
![](results0103/silk2.png width=\pagewidth) ![](results0103/silk3.png width=\pagewidth) 



2017.01.02
===

Different Scales (Rand)
---
![$Scale=1$](results0103/Scale1.png width=\pagewidth) ![$Scale=10$](results0103/Scale10.png width=\pagewidth) 
![$Scale=100$](results0103/Scale100.png width=\pagewidth) ![$Scale=1000$](results0103/Scale1000.png width=\pagewidth)


Different Number of Samples (Rand)
---
![$N=10^3$](results0103/N1000.png width=\pagewidth) ![$N=10^4$](results0103/N10000.png width=\pagewidth) 
![$N=10^5$](results0103/N100000.png width=\pagewidth) ![$N=10^6$](results0103/N1000000.png width=\pagewidth)



2016.12.30
===

Rand 
---
![](results1230/rand1.png width=\pagewidth)
![](results1230/rand2.png width=\pagewidth)

Wool
---
![](results1230/wool1.png width=\pagewidth)
![](results1230/wool2.png width=\pagewidth)

Silk
---
![](results1230/silk1.png width=\pagewidth)
![](results1230/silk2.png width=\pagewidth)


2016.12.28
===
Simple Test:

![](results1228/simpleTest.png width=\pagewidth)

Results:

$$Tile = 1: B < E \approx D < C < F < A $$
$$Tile = 100+: B = C < E = F < A = D $$

![scale=1](results1228/scale1.png width=\pagewidth)
![scale=100](results1228/scale100.png width=\pagewidth)

![average=0.5, input](results1228/0.5_input.png width=\pagewidth)
![average=0.5, scale=1](results1228/0.5.png width=\pagewidth)


2016.12.27
===

Horizontal Randomized 0/1
---
![xyDownsample](results1227/xy_downsample/scale1/figure-rand-reflectance.png width=\pagewidth) ![xDownsample](results1227/x_downsample/scale1/figure-rand-reflectance.png width=\pagewidth)

Wool 
---
![xy,scale=1](results1227/xy_downsample/scale1/figure-wool-reflectance.png width=\pagewidth) ![xy,scale=1000](results1227/xy_downsample/scale1000/figure-wool-reflectance.png width=\pagewidth) ![x,scale=1](results1227/x_downsample/scale1/figure-wool-reflectance.png width=\pagewidth) ![xy,scale=1000](results1227/x_downsample/scale1000/figure-wool-reflectance.png width=\pagewidth)

Wool remove empty 
---
![xy,scale=1](results1227/xy_downsample/scale1/figure-wool_edit-reflectance.png width=\pagewidth) ![xy,scale=1000](results1227/xy_downsample/scale1000/figure-wool_edit-reflectance.png width=\pagewidth) ![x,scale=1](results1227/x_downsample/scale1/figure-wool_edit-reflectance.png width=\pagewidth) ![x,scale=1000](results1227/x_downsample/scale1000/figure-wool_edit-reflectance.png width=\pagewidth)

Silk 
---
![xy,scale=1](results1227/xy_downsample/scale1/figure-silk-reflectance.png width=\pagewidth) ![xy,scale=1000](results1227/xy_downsample/scale1000/figure-silk-reflectance.png width=\pagewidth) ![x,scale=1](results1227/x_downsample/scale1/figure-silk-reflectance.png width=\pagewidth) ![x,scale=1000](results1227/x_downsample/scale1000/figure-silk-reflectance.png width=\pagewidth)

Silk remove empty 
---
![xy,scale=1](results1227/xy_downsample/scale1/figure-silk_edit-reflectance.png width=\pagewidth) ![xy,scale=1000](results1227/xy_downsample/scale1000/figure-silk_edit-reflectance.png width=\pagewidth) ![x,scale=1](results1227/x_downsample/scale1/figure-silk_edit-reflectance.png width=\pagewidth) ![x,scale=1000](results1227/x_downsample/scale1000/figure-silk_edit-reflectance.png width=\pagewidth)

Downsample in x direction
---
![](results1227/x_downsample/figure-rand.png width=\pagewidth)
![](results1227/x_downsample/figure-wool.png width=\pagewidth)
![](results1227/x_downsample/figure-wool_edit.png width=\pagewidth)
![](results1227/x_downsample/figure-silk.png width=\pagewidth)
![](results1227/x_downsample/figure-silk_edit.png width=\pagewidth)

Albedo (Tile:40; Scale:1000; Left:Wool; Right:Silk)
---
![](results1227/xy_downsample/scale1000/figure-wool-albedo.png width=\pagewidth) ![](results1227/xy_downsample/scale1000/figure-silk-albedo.png width=\pagewidth)


~~2016.12.23~~ 
===
Relations between tile times and appearance. ($scale = 1$; $\alpha = 0.95$)

Horizontal Randomized 0/1
---
![*Click to see full image*](results/figure-rand-tileTest.png width=\pagewidth)

Horizontal 0~1
---
![*Click to see full image*](results/figure-horizontal-tileTest.png width=\pagewidth)

Diagonal 0~1
---
![*Click to see full image*](results/figure-diagonal-tileTest.png width=\pagewidth)

Wool
---
![*Click to see full image*](results/figure-wool-tileTest.png width=\pagewidth)

Wool remove empty
---
![*Click to see full image*](results/figure-wool_edit-tileTest.png width=\pagewidth)

Silk
---
![*Click to see full image*](results/figure-silk-tileTest.png width=\pagewidth)

Silk remove empty
---
![*Click to see full image*](results/figure-silk_edit-tileTest.png width=\pagewidth)


~~2016.12.22~~
===
Here we generate some 2D cases (2D matrix with dimension of $256 \times 256$), each pixel stores a single value according to the color-map.

Assume light source is top surface and we will observe the scattering effect only from top surface.

Here we use "4 to 1" strategy to down-sample the initial models to lower resolutions. 

**Top image**:

- In first row, it shows down-sampled models: $(1 \times)^2$ $\rightarrow$ $(2 \times)^2$ $\rightarrow$ $(4 \times)^2$ $\rightarrow$ $(8 \times)^2$ $\rightarrow$ $(16 \times)^2$ 

- Corresponding **Fourier Transforms** are shown on second row. If the input is a rectangle, cut a square to do FFT. 

- The relations between **Frequency Energy Percentage** and **Window Size** are shown on the last row.

For each down-sampled input, we are trying to find the appropriate albedo which make it has the same appearance of brightness with original input.

Monte Carlo Samples: $1,000,000$

**Bottom two images**:

- **Left**: different albedo (1,0.9,0.8,0.7,0.6) for initial model. ($Scale = 1$)

- **Right**: different scales (1,2,4,8,16) with same albedo ($\alpha = 0.95$) in initial model.  


*Horizontal Randomized 0/1 (tile = 10)
---
![*Click to see full image*](results/figure-rand-tile10-1.png width=\pagewidth)
![*Click to see full image*](results/figure-rand-tile10-2.png width=200) ![](results/figure-rand-tile10-3.png width=200)

*Horizontal 0~1 (tile = 10)
---
![*Click to see full image*](results/figure-horizontal-tile10-1.png width=\pagewidth)
![*Click to see full image*](results/figure-horizontal-tile10-2.png width=200) ![](results/figure-horizontal-tile10-3.png width=200)

Diagonal 0~1 (tile = 10)
---
![*Click to see full image*](results/figure-diagonal-tile10-1.png width=\pagewidth)
![*Click to see full image*](results/figure-diagonal-tile10-2.png width=200) ![](results/figure-diagonal-tile10-3.png width=200)

Wool (tile = 1)
---
![*Click to see full image*](results/figure-wool-tile1-1.png width=\pagewidth)
![*Click to see full image*](results/figure-wool-tile1-2.png width=200) ![](results/figure-wool-tile1-3.png width=200)

Wool remove empty (tile = 1)
---
![*Click to see full image*](results/figure-wool_edit-tile1-1.png width=\pagewidth)
![*Click to see full image*](results/figure-wool_edit-tile1-2.png width=200) ![](results/figure-wool_edit-tile1-3.png width=200)


Wool (tile = 5)
---
![*Click to see full image*](results/figure-wool-tile5-1.png width=\pagewidth)
![*Click to see full image*](results/figure-wool-tile5-2.png width=200) ![](results/figure-wool-tile5-3.png width=200)

*Wool remove empty (tile = 5)
---
![*Click to see full image*](results/figure-wool_edit-tile5-1.png width=\pagewidth)
![*Click to see full image*](results/figure-wool_edit-tile5-2.png width=200) ![](results/figure-wool_edit-tile5-3.png width=200)

*Wool remove empty (tile = 10, scale = 1000)
---
![*Click to see full image*](results/figure-wool_edit-tile10-1.png width=\pagewidth)
![*Click to see full image*](results/figure-wool_edit-tile10-2.png width=200) ![](results/figure-wool_edit-tile10-3.png width=200)


Silk (tile = 1)
---
![*Click to see full image*](results/figure-silk-tile1-1.png width=\pagewidth)
![*Click to see full image*](results/figure-silk-tile1-2.png width=200) ![](results/figure-silk-tile1-3.png width=200)

Silk remove empty (tile = 1)
---
![*Click to see full image*](results/figure-silk_edit-tile1-1.png width=\pagewidth)
![*Click to see full image*](results/figure-silk_edit-tile1-2.png width=200) ![](results/figure-silk_edit-tile1-3.png width=200)


Silk (tile = 5)
---
![*Click to see full image*](results/figure-silk-tile5-1.png width=\pagewidth)
![*Click to see full image*](results/figure-silk-tile5-2.png width=200) ![](results/figure-silk-tile5-3.png width=200)

*Silk remove empty (tile = 5)
---
![*Click to see full image*](results/figure-silk_edit-tile5-1.png width=\pagewidth)
![*Click to see full image*](results/figure-silk_edit-tile5-2.png width=200) ![](results/figure-silk_edit-tile5-3.png width=200)

*Silk remove empty (tile = 10)
---
![*Click to see full image*](results/figure-silk_edit-tile10-1.png width=\pagewidth)
![*Click to see full image*](results/figure-silk_edit-tile10-2.png width=200) ![](results/figure-silk_edit-tile10-3.png width=200)



2016.12.19
===

Initial Model (Distribution of $\sigma_T$)
---
Here we generate some 2D cases (2D matrix with dimension of $256 \times 256$), each pixel stores a single value according to the color-map.

Assume light source is top surface and we will observe the scattering effect only from top surface.


Horizontal Randomized 0/1

![*Click to see full image*](results/figure1-1.png width=300)

Horizontal Ordered 1~0

![*Click to see full image*](results/figure1-2.png width=300)

Diagonal Ordered 1~0 

![*Click to see full image*](results/figure1-3.png width=300)

Horizontal Ordered 1~0 (Sparse)

![*Click to see full image*](results/figure1-4.png width=300)

Diagonal Ordered 1~0 (Sparse)

![*Click to see full image*](results/figure1-5.png width=300)

Silk 1

![*Click to see full image*](results/figure1-silk1.png width=300)

Silk 2

![*Click to see full image*](results/figure1-silk2.png width=300)

Silk 3

![*Click to see full image*](results/figure1-silk3.png width=100)

Wool 1

![*Click to see full image*](results/figure1-wool1.png width=300)

Wool 2

![*Click to see full image*](results/figure1-wool2.png width=300)

Wool 3

![*Click to see full image*](results/figure1-wool3.png width=300)


Down-sampled Model
---
Here we use "4 to 1" strategy to down-sample the initial models to lower resolutions. 

In first row, it shows down-sampled models:
$256 \times 256$ $\rightarrow$ $128 \times 128$ $\rightarrow$ $64 \times 64$ $\rightarrow$ $32 \times 32$ $\rightarrow$ $16 \times 16$ $\rightarrow$ $8 \times 8$ $\rightarrow$ $4 \times 4$

Corresponding **Fourier Transforms** are shown on second row.

The relations between **Frequency Energy Percentage** and **Window Size** are shown on the last row.

Horizontal Randomized 0/1 

![*Click to see full image*](results/figure2-1.png width=\pagewidth)

Horizontal Ordered 1~0 

![*Click to see full image*](results/figure2-2.png width=\pagewidth)

Diagonal Ordered 1~0 

![*Click to see full image*](results/figure2-3.png width=\pagewidth)

Horizontal Ordered 1~0 (Sparse)

![*Click to see full image*](results/figure2-4.png width=\pagewidth)

Diagonal Ordered 1~0 (Sparse)

![*Click to see full image*](results/figure2-5.png width=\pagewidth)

Silk 1

![*Click to see full image*](results/figure2-silk1.png width=\pagewidth)

Silk 2

![*Click to see full image*](results/figure2-silk2.png width=\pagewidth)

Silk 3

![*Click to see full image*](results/figure2-silk3.png width=\pagewidth)

Wool 1

![*Click to see full image*](results/figure2-wool1.png width=\pagewidth)

Wool 2

![*Click to see full image*](results/figure2-wool2.png width=\pagewidth)

Wool 3

![*Click to see full image*](results/figure2-wool3.png width=\pagewidth)

Albedo Optimization
---
For each down-sampled input, we are trying to find the appropriate albedo which make it has the same appearance of brightness with original input.

Monte Carlo Samples: 1,000,000

**Left**: different albedo values for initial model. ($Scale = 1$)

**Right**: different scales with same albedo ($\alpha = 0.9$) in initial model.  


Horizontal Randomized 0/1 

![*Click to see full image*](results/figure3-1-1.png width=\pagewidth) ![](results/figure3-1-2.png width=\pagewidth)

Horizontal Ordered 1~0 

![*Click to see full image*](results/figure3-2-1.png width=\pagewidth) ![](results/figure3-2-2.png width=\pagewidth) ![](results/figure13-2-1.png width=\pagewidth) ![](results/figure13-2-2.png width=\pagewidth)

Diagonal Ordered 1~0 

![*Click to see full image*](results/figure3-3-1.png width=\pagewidth) ![](results/figure3-3-2.png width=\pagewidth) ![](results/figure13-3-1.png width=\pagewidth) ![](results/figure13-3-2.png width=\pagewidth)

Horizontal Ordered 1~0 (Sparse)

![*Click to see full image*](results/figure3-4-1.png width=\pagewidth) ![](results/figure3-4-2.png width=\pagewidth) ![](results/figure13-4-1.png width=\pagewidth) ![](results/figure13-4-2.png width=\pagewidth)

Diagonal Ordered 1~0 (Sparse)

![*Click to see full image*](results/figure3-5-1.png width=\pagewidth) ![](results/figure3-5-2.png width=\pagewidth) ![](results/figure13-5-1.png width=\pagewidth) ![](results/figure13-5-2.png width=\pagewidth)


Silk 1

![*Click to see full image*](results/figure3-silk1-1.png width=\pagewidth) ![](results/figure3-silk1-2.png width=\pagewidth)

Silk 2

![*Click to see full image*](results/figure3-silk2-1.png width=\pagewidth) ![](results/figure3-silk2-2.png width=\pagewidth)

Silk 3

![*Click to see full image*](results/figure3-silk3-1.png width=\pagewidth) ![](results/figure3-silk3-2.png width=\pagewidth)

Wool 1

![*Click to see full image*](results/figure3-wool1-1.png width=\pagewidth) ![](results/figure3-wool1-2.png width=\pagewidth)

Wool 2

![*Click to see full image*](results/figure3-wool2-1.png width=\pagewidth) ![](results/figure3-wool2-2.png width=\pagewidth)

Wool 3

![*Click to see full image*](results/figure3-wool3-1.png width=\pagewidth) ![](results/figure3-wool3-2.png width=\pagewidth)






End.

<!-- Markdeep: -->
<style class="fallback">body{visibility:hidden;white-space:pre;font-family:monospace}</style>
<!-- <script src="markdeep.min.js"></script> -->
<script src="https://casual-effects.com/markdeep/latest/markdeep.min.js"></script>
<script>window.alreadyProcessedMarkdeep||(document.body.style.visibility="visible")</script>
